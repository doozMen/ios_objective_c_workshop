# Lesson 5: Bridging Objectiv-C  <-> Swift
> Previous:  [Lesson 4: Mapping, filtering, reduce, sortâ€¦](bear://x-callback-url/open-note?id=E7068AAC-C318-4475-8EB7-C44574EF845F-1071-00000EABCC3CD0F8)  
> Next: [Lesson 6: Overrides and Magic with categories](bear://x-callback-url/open-note?id=F768EBFA-53BC-4C89-B29B-35E862EA0D8C-2441-000003A6DA13F743)  
- - - -
* How is the **MayApp-Swift.h** file created and what is in it
* What doesnâ€™t objective-c understand
* When/How to write wrappers to see swift in Objective-C
* Bridging and Frameworks - Using a swift pod in Objective-C

## General Apple explanation
[Using Swift with Cocoa and Objective-C (Swift 4): Swift and Objective-C in the Same Project](https://developer.apple.com/library/content/documentation/Swift/Conceptual/BuildingCocoaApps/MixandMatch.html)

![](Lesson5-Bridgin%20Objectiv-C%3C-%3ESwift/9306D911-10EE-4DA0-931F-B3F1B508C0AE.png)

## *MayApp-Swift.h* ðŸ™ƒ
When you write code that does not use anything of the list in the next paragraph and you include @objc in from of variables and functions an **MayApp-Swift.h** file is created automagically for you.

## What doenâ€™t objective-c understand
This is illustrated in an example on github -> [ios_objective_c_workshop/Teacher/ObjcTextInput at master Â· icapps/ios_objective_c_workshop Â· GitHub](https://github.com/icapps/ios_objective_c_workshop/tree/master/Teacher/ObjcTextInput)
But in general if you do not see it in your **MyApp-Swift.h** file that is generated by XCode you have to do the following
1. Inherit from **Objective-C** and put **@objc** in front of everything you want to see in Objective-C (and therefore be in **MyApp-Swift.h** )
2. The function includes a class that does not inherit form `NSObject`
3. The function is generic
4. Protocol is not a class protocol, **objective-c** only understands class protocols

In cases 3 and 4 and sometimes 2 you need to write a swift wrapper (see next).
## Swift wrapper to Objective-c
You write this code when you use anything of the above. A general case is you want to include a swift pod/framework that does not have classes that inherit from `NSObject`.
In **ObjcTextInput** project we wrote a wrapper around Faro to include it in objective-c.
[ios_objective_c_workshop/PostService.swift at master Â· icapps/ios_objective_c_workshop Â· GitHub](https://github.com/icapps/ios_objective_c_workshop/blob/master/Teacher/ObjcTextInput/ObjcTextInput/Modules/Posts/Service/PostService.swift)

```swift
import Foundation
import Faro
class PostService: NSObject {
    @objc var posts: [Post]?
    let service: Service
    @objc override init() {
        let call = Call(path: "posts")
        let session = FaroURLSession(backendConfiguration: BackendConfiguration(baseURL: "http://jsonplaceholder.typicode.com"))
        service = Service(call: call, session: session)
    }
    @objc func getPosts(_ done: @escaping () -> Void) {
        service.perform([Post].self) { (doneService) in
            self.posts = try? doneService()
            done()
        }
    }
}
```
In Objective-C we can now write
```objective-c
#import "ObjcTextInput-Swift.h"
self.service = [[PostService alloc] init];
__weak id  weakSelf = self; // Done to break retain cycle
[self.service getPosts:^{
    NSArray <Post *>* posts = weakSelf.service.posts;
    // ... code to do whatever
}];
```

### Bridging and Frameworks - Using a Swift pod in Objective-C
This is easy if the framework includes the objective-c runtime. This means the classes you want to use inherit from `NSObject` and include nothing that is incompatible with swift. But you will have to use the modular importâ€¦

```objective-c
@import SomePodInSwift
// .. Objective-c code
```

- - - -
Previous:  [Lesson 4: Mapping, filtering, reduce, sortâ€¦](bear://x-callback-url/open-note?id=E7068AAC-C318-4475-8EB7-C44574EF845F-1071-00000EABCC3CD0F8)
> Next: [Lesson 6: Overrides and Magic with categories](bear://x-callback-url/open-note?id=F768EBFA-53BC-4C89-B29B-35E862EA0D8C-2441-000003A6DA13F743)  
